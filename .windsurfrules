# Arela Bootstrap

Agents must load every file in `.arela/rules/*` and `.arela/workflows/*` before acting. If a file is missing from the current context, request it explicitly.

## Core Directives
- Enforce arela.context_integrity before every action.
- Validate tasks against arela.ticket_format; request acceptance criteria when missing.
- Review deliverables with arela.code_review_gates, arela.testing_pyramid/arela.testing_trophy, and arela.observability_minimums.
- **Investigate all failures** - Never ignore warnings, errors, or failed operations. Read files, identify patterns, assess impact (arela.investigate_failures).
- Return a Report per task (summary, acceptance checklist status, test outputs, and UI proof if applicable).
- On drift, pause and run a Context Integrity Check (what / why / fix).

## Learning System (v1.1.0+)

Arela now learns from violations and shares knowledge across projects via `~/.arela/`:

### Auto-Activation
- Rules activate automatically based on prompt keywords and file context
- See `.arela/skill-rules.json` for activation triggers
- Hooks in `.arela/hooks/` analyze context and suggest relevant rules

### Global Learning
- Violations are tracked in `~/.arela/config.json`
- Patterns learned from one project apply to new projects
- Custom rules auto-generated from recurring violations
- Run `npx arela patterns` to view learned patterns

### Safe Updates
- User data in `~/.arela/` and `.arela/custom/` never touched by package updates
- Conflicts resolved interactively
- Run `npx arela sync` after package updates

### Commands
```bash
npx arela patterns           # View learned patterns
npx arela check-updates      # Check for new version
npx arela sync               # Sync updates + patterns
npx arela export-patterns    # Share with team
npx arela projects           # List all projects
```

## Integration

Run `npx arela harden` to regenerate this file with concrete rule + workflow paths once the repo is initialized.

For IDE integration (Windsurf, Cursor, Claude Code):
- Auto-activation hooks suggest rules based on context
- Pre-commit hooks enforce quality gates
- RAG server provides semantic search: `npx arela serve`

# Arela Bootstrap for Windsurf

**Load ALL rules and workflows before acting.** If any file is missing, request it explicitly.

## Core Rules (Load These First)

### Foundation
- `.arela/rules/010-pragmatic-visionary.md` - Balance pragmatism with vision
- `.arela/rules/015-modular-monolith.md` - Start simple, scale smart
- `.arela/rules/016-trunk-based-dev.md` - Ship fast, integrate often
- `.arela/rules/017-dora-metrics.md` - Measure what matters
- `.arela/rules/020-context-integrity.md` - **CRITICAL** - Understand before acting
- `.arela/rules/025-two-way-door-decisions.md` - Move fast on reversible decisions

### Execution
- `.arela/rules/030-ticket-format.md` - **REQUIRED** - Structured tickets with acceptance criteria
- `.arela/rules/040-code-review-gates.md` - Quality gates before merge
- `.arela/rules/050-technical-debt-management.md` - Track and pay down debt
- `.arela/rules/060-security-first.md` - Security is not optional

### Quality
- `.arela/rules/070-testing-pyramid.md` - Test strategy for backends
- `.arela/rules/075-testing-trophy.md` - Test strategy for frontends
- `.arela/rules/080-observability-minimums.md` - Logs, metrics, traces
- `.arela/rules/085-blameless-culture.md` - Learn from failures
- `.arela/rules/090-adr-discipline.md` - Document decisions

### AI & Automation
- `.arela/rules/095-responsible-ai.md` - Ethical AI usage
- `.arela/rules/096-context-engineering.md` - Craft effective prompts
- `.arela/rules/100-multi-agent-orchestration.md` - Coordinate multiple agents
- `.arela/rules/110-performance-budget.md` - Speed matters
- `.arela/rules/120-async-first-communication.md` - Document everything
- `.arela/rules/130-automated-qa.md` - Browser automation testing
- `.arela/rules/140-current-context-awareness.md` - **CRITICAL** - Always use current date/time
- `.arela/rules/150-investigate-failures.md` - **CRITICAL** - Never ignore errors

## Core Workflows (Load When Needed)

- `.arela/workflows/ticket-creation.prompt.md` - Create structured tickets
- `.arela/workflows/code-review.prompt.md` - Review code systematically
- `.arela/workflows/refactoring.prompt.md` - Safe refactoring process
- `.arela/workflows/debugging.prompt.md` - Debug methodically
- `.arela/workflows/security-audit.prompt.md` - Security review
- `.arela/workflows/performance-optimization.prompt.md` - Optimize performance
- `.arela/workflows/documentation.prompt.md` - Write great docs
- `.arela/workflows/testing.prompt.md` - Test comprehensively
- `.arela/workflows/deployment.prompt.md` - Deploy safely
- `.arela/workflows/incident-response.prompt.md` - Handle incidents
- `.arela/workflows/tech-hiring.prompt.md` - Hire great engineers
- `.arela/workflows/ruthless-prioritization.prompt.md` - Prioritize ruthlessly
- `.arela/workflows/qa-automation.prompt.md` - Automate QA with browser testing

## Critical Directives

1. **Context Integrity** - ALWAYS load `.arela/rules/020-context-integrity.md` first
2. **Current Context** - ALWAYS check current date/time before research (`.arela/rules/140-current-context-awareness.md`)
3. **Investigate Failures** - NEVER ignore errors (`.arela/rules/150-investigate-failures.md`)
4. **Ticket Format** - ALWAYS validate tickets (`.arela/rules/030-ticket-format.md`)
5. **Report Results** - Return summary, acceptance checklist, tests, and proof

## Quick Commands (v1.7.0+)

```bash
# Structure validation & auto-fix (NEW in v1.7.0)
npx arela doctor --check-structure --fix

# CLI RAG search with JSON output (NEW in v1.7.0)
npx arela search "query" --json --top 5

# Auto-create IDE rules (NEW in v1.7.0)
npx arela init --create-ide-rules

# IDE setup wizard (NEW in v1.7.0)
npx arela setup --ide windsurf

# Indexing with progress bar (NEW in v1.7.0)
npx arela index --progress

# Agent discovery (v1.5.2+)
npx arela agents

# View patterns (v1.1.0+)
npx arela patterns

# Start RAG server
npx arela serve
```

## Learning System

- Violations tracked in `~/.arela/config.json`
- Patterns learned across projects
- Auto-activation based on context
- Run `npx arela sync` to update

## On Drift

If you lose context or make mistakes:
1. **STOP** - Don't continue blindly
2. **CHECK** - What was I supposed to do?
3. **RELOAD** - Re-read relevant rules
4. **FIX** - Correct the mistake
5. **CONTINUE** - Resume with proper context

---

## What's New in v1.7.0/v1.7.1

✅ **Structure Validation** - Auto-detect and fix project issues
✅ **CLI RAG Search** - Search codebase without curl
✅ **IDE Setup Automation** - One command to create all IDE rules
✅ **Progress Bars** - Real-time feedback during indexing
✅ **Sequential Indexing** - Fast by default (parallel opt-in)
✅ **Rule Number Fixes** - No more conflicts (v1.7.1)
✅ **Full Bootstrap** - Complete rule listings with paths (v1.7.1)

**Setup time:** 10+ min → < 2 min (80% faster)
**Structure errors:** Manual fixes → Auto-fixed
**RAG queries:** curl only → CLI-first

---

**Generated by Arela v1.7.1** - Run `npx arela harden` to regenerate with project-specific paths
